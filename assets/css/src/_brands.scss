//
//
//  Logos Container
//  ====================
//
.brands {
    .js & {
        border-top: 1px solid #eee;
        overflow: hidden;
        position: relative;
    }
}

.brand {

    .js & {
        position: relative;
        box-sizing: border-box;
        width: 25%;
        height: 300px;
        border-bottom: 1px solid #eee;
        border-right: 1px solid #eee;
        float: left;
        overflow: hidden;

        @include respond-to(mobile) {
            width: 100%;
        }
        @include respond-to(tablet) {
            width: 33.3333333%
        }
        @include respond-to(widescreen) {
            width: 20%;
        }

        &:hover {
            cursor: pointer;
        }

        &.correct {
            .brand-name {
                color: $color-correct;

                &:before {
                    content: '+ 1';
                    background: $color-correct;
                    color: white;
                    border-color: $color-correct;
                }
            }
        }
        &.incorrect {
            .brand-name {
                color: $color-incorrect;
                
                &:before {
                    content: '+ 0';
                    color: $color-incorrect;
                    border-color: $color-incorrect;
                }
            }
        }
        &.incorrect,
        &.correct {
            .brand-name:before {
                // position: absolute;
                // left: 0;
                // bottom: 0;
                padding: #{2 / $font-size-base}em #{5 / $font-size-base}em;
                @include border-radius(3px);
                line-height: 1;
                margin-right: #{4 / $font-size-base}em;
                border-width: 1px;
                border-style: solid;
            }

            &:hover {
                cursor: default;
            }
        }
    }

    .no-js & {
        border-bottom: 1px solid #eee;
    }
}

.brand-name {
    .js & {
        position: absolute;
        width: 80%;
        bottom: .5em;
        left: .5em;
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
        font-size: 1em;
        color: #999;  
        z-index: 10; 
        @include opacity(0);
        visibility: hidden;
        @include transition(.2s ease all);

        a {
            color: inherit;
        }
    }

    .reveal[data-answered="true"] & {
        @include opacity(1);
        visibility: visible;
    }

    .no-js & {
        margin: 0 auto;
        max-width: #{$max-width};

        a {
            padding: 1em 0;
            display: block;
            position: relative;

            @media screen and (max-width: $max-width) {
                padding: 1em;
            }

            &:after {
                content: '\00BB';
                position: absolute;
                right: 1em;
            }
        }
    }
}

.logo {
    .js & {
        width: 300px;
        height: 300px;
        position: absolute;
        margin-left: -150px;
        left: 50%;
        transition: .15s ease filter;
        -webkit-transition: .15s ease -webkit-filter;
        -moz-transition: .15s ease -moz-filter;
        -o-transition: .15s ease -o-filter;
        -ms-transition: .15s ease -ms-filter;
    }

    .reveal[data-answered="true"] & {
        filter: none !important; 
        -webkit-filter: none !important; 
        -moz-filter: none !important;
        -o-filter: none !important; 
        -ms-filter: none !important;
        filter: none !important;
    }
}


// List these alphabetically
$logos: 
    abc
    apple
    cbs
    chase
    cnn
    coke
    dropbox
    espn
    general-electric
    girl-scouts
    honda
    hyundai
    ibm
    intel
    john-deere
    jumpman
    kfc
    lg
    mazda
    mcdonalds
    mercedes
    mitsubishi
    mtv
    nbc
    nike
    pbs
    pepsi
    puma
    quicksilver
    rolex
    shell
    starbucks
    taco-bell
    target
    toyota
    twitter
    univision
    ups
    volkswagen   
;

// Background Y position for each specific logo
@for $i from 1 through length($logos) {
    $logo: nth($logos, $i);
    
    // ##{$logo} {
    //     .logo {background-position-y: -#{ $i * 300 - 300 }px }
    // }
}

// Each logo as a background image
.svgfilters {
    @each $logo in $logos {
        ##{$logo} {
            .logo {background-image: image-url('#{$svg-directory}/#{$logo}.svg') }
        }
    }
}

// Blurs for controls
$logo-blurs: 0 5 10 15 20;
$filter-point-value: 0;

@each $logo-blur in $logo-blurs {
    
    .container[data-active-blur-value="#{$logo-blur}"] {
        
        .logo {
            @include filter($logo-blur);
        }

        .filter-point[data-blur-value="#{$logo-blur}"] {
            background-image: image-url('filter-point-active.svg');
        }
    }

    .filter-point[data-blur-value="#{$logo-blur}"] {
        @include filter($filter-point-value);
    }

    $filter-point-value: $filter-point-value + 1;
}